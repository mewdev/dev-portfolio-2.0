---
import { getCollection } from 'astro:content'
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets'

const projects = await getCollection("projects")


---
<Layout title="Projects">
<!-- project link list -->
<div class="bg-green-100 flex flex-col">
{projects.map(project =>(
    <a class="underline" href={`/projects/${project.slug}`}>{project.data.name}</a>
))}
</div>



<!-- project component -->
{projects.map(project =>(
// a href whole div link
<a href={`/projects/${project.slug}`}>
<div class="bg-blue-100 m-5">
    <h1 class="text-2xl">{project.data.name}</h1>
    <a target="_blank" class="underline"href={project.data.github}>{project.data.github}</a>

    {/* project's discography component */}
    <ul>

    </ul>
    <Image
    src={project.data.image}
    alt={`${project.data.name}`}
    width={500}
    height={500}
    class="aspect-square object-cover"
    />
    
    <hr>

</div>
</a>
))}

</Layout>